<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:component="http://java.sun.com/jsf/composite/views/dataJournal/components"
	xmlns:sec="http://www.springframework.org/security/tags">


    
    
    <h:outputScript 
    	library="scripts" 
    	name="tiles.js" 
    	target="body"/>

	<p:dataScroller 
		id="measTiles" 
		value="#{dataJournalTable.rows}" 
		var="row" 
		chunkSize="10"
		lazy="false">
		
		
		
		<p:outputPanel styleClass="date" 
	    	rendered="#{row.enableFirstDate}">
	    	
		    <p:panelGrid 
		    	styleClass="date-table no-border" >
		    	
		    	<p:row >
			    	<p:column 
			    		style="width: 5%">
			    		<hr/>
			    	</p:column>
					<p:column>
						<p:outputLabel 
							value="#{row.firstDate.date}" >
					    	
				    		<f:converter 
				    			converterId="jodaDataTimeConverter" />
							
							<f:attribute 
								name="pattern" 
								value="#{msg['date_format_pattern']}" />
					    </p:outputLabel>
				    </p:column>
					<p:column 
						style="width: 95%">
				    	<hr/>
					</p:column>
				</p:row>
		    </p:panelGrid>
	    </p:outputPanel>
    	
		<component:measurementTile 
			id="measTile"
			row="#{row}" 
			widthFirstColumn="150px" 
			widthPhoto="50px" 
			widthPhotoColumn="100px"
			widthExpandButtonColumn="20px"/>
		

		
	</p:dataScroller>
	
	
	<ul class='custom-menu'>
	  <li data-action="first">Развернуть</li>
	  <li data-action="second">Подробно</li>
	  <li data-action="third">Редактировать</li>
	</ul>
	
<!-- 		<p:contextMenu 
			for="measTiles:measTile:tile"
			id="tileContextMenu"
			widgetVar="tileContextMenuWV">
			
			<p:menuitem value="развернуть"/>
			<p:menuitem value="Второй пункт"/>
		</p:contextMenu>	
	  -->
	
</ui:composition>